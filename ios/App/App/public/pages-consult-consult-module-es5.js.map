{"version":3,"sources":["webpack:///src/app/pages/consult/consult.page.ts","webpack:///src/app/pages/consult/consult.page.html","webpack:///src/app/pages/consult/consult-routing.module.ts","webpack:///src/app/pages/consult/consult.module.ts","webpack:///src/app/pages/consult/consult.page.scss"],"names":["ConsultPage","route","translate","_scanService","ruta","getConsult","localStorage","removeItem","navigate","isCollapsedimg","isCollapseding","isCollapsedtex","isLoading","myConsult","JSON","parse","recargar","item","console","log","consulta","ingredientes","id","generatePdfConsultLink","subscribe","resp","window","open","selector","template","routes","path","component","ConsultPageRoutingModule","imports","forChild","exports","createTranslateLoader","http","ConsultPageModule","loader","provide","useFactory","deps","declarations"],"mappings":"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","file":"pages-consult-consult-module-es5.js","sourcesContent":["import { Component, OnInit, SimpleChanges } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ENDPOINT } from '../../utils/endpoint';\r\nimport { ScanService } from '../../services/scan.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-consult',\r\n  templateUrl: './consult.page.html',\r\n  styleUrls: ['./consult.page.scss'],\r\n})\r\nexport class ConsultPage implements OnInit {\r\n\r\n  isLoading: boolean\r\n  myConsult: any \r\n  isCollapsedimg: boolean\r\n  isCollapseding: boolean\r\n  isCollapsedtex: boolean\r\n  ruta: any\r\n  detalleIngredientes: any []\r\n  ingredientes: any []\r\n\r\n  constructor(private route: Router, public translate: TranslateService, private _scanService: ScanService) { \r\n    this.ruta = `${ENDPOINT}/`;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getConsult()    \r\n\r\n  }\r\n  \r\n  ngAfterViewInit(): void {    \r\n    this.getConsult()    \r\n  }\r\n\r\n  returnHome(){\r\n    localStorage.removeItem(\"consult\");\r\n    this.route.navigate(['consults']);\r\n  }\r\n\r\n  getConsult(){\r\n    \r\n    this.isCollapsedimg = false\r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isLoading = true;   \r\n    this.myConsult = JSON.parse(localStorage['consult'] || '{}')\r\n    this.recargar(this.myConsult)\r\n    \r\n    this.isLoading = false;   \r\n\r\n  }\r\n\r\n  changeExpande(item){\r\n    console.log(item,\"item1\");\r\n    item['collapse'] = !item['collapse']\r\n    console.log(item,\"item2\");\r\n\r\n  }\r\n\r\n  recargar(consulta: any): void {\r\n    console.log(consulta);\r\n    this.ingredientes = consulta['ingredientes']          \r\n  }  \r\n\r\n  downloadPDF(id: any){\r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapsedimg = false\r\n    this._scanService.generatePdfConsultLink(id).subscribe(\r\n      (resp) => {\r\n        window.open(resp['link'])        \r\n      }\r\n    )\r\n  }\r\n\r\n  collapseIng(){    \r\n    this.isCollapsedimg = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapseding = !this.isCollapseding\r\n  }\r\n\r\n  collapseImg(){    \r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapsedimg = !this.isCollapsedimg\r\n  }\r\n\r\n  collapseTex(){    \r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapsedtex = !this.isCollapsedtex\r\n  }\r\n}\r\n","export default \"<ion-content color=\\\"\\\">\\r\\n  <img class=\\\"position-absolute div__background-wavetop\\\" src=\\\"../../../assets/icon/infoWaveTop.png\\\" alt=\\\"\\\">\\r\\n  <div class=\\\"position-absolute container contenedorModalTop\\\">\\r\\n      <div class=\\\"row mt-4\\\">\\r\\n          <div class=\\\"col-2 my-auto text-center\\\">\\r\\n              <img class=\\\" div_closebutton\\\" (click)=\\\"returnHome()\\\" src=\\\"../../../assets/icon/close.png\\\" alt=\\\"\\\">\\r\\n          </div>\\r\\n          <div class=\\\"col-8 bruno-btn-home my-auto text-center text-white bruno-text-info2\\\">\\r\\n              <p class=\\\"my-auto closeSectionText\\\">{{ 'consult.consult' | translate }} </p>              \\r\\n          </div>\\r\\n          <div class=\\\"col-2\\\"></div>\\r\\n      </div>\\r\\n  </div>\\r\\n  <div class=\\\"container centrar-vertical listaHeight mt-4\\\">\\r\\n    <div class=\\\"row mt-5 stepText mt-5\\\" *ngIf=\\\"isLoading\\\">\\r\\n      <ion-spinner name=\\\"lines\\\"></ion-spinner>\\r\\n    </div>      \\r\\n    <div class=\\\"row mt-5 stepText mt-5\\\" *ngIf=\\\"!isLoading\\\">\\r\\n      <div class=\\\"d-grid gap-2 mt-5\\\">\\r\\n        <button class=\\\"btn btn-outline-dark\\\">{{'consult.date' | translate}} {{myConsult['fecha'] | date: 'dd/MM/y HH:mm:ss'}} # {{myConsult['id']}}</button>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"collapseIng()\\\" [attr.aria-expanded]=\\\"isCollapseding\\\" aria-controls=\\\"collapseBasic\\\">{{'result.ingredient' | translate}}</button>\\r\\n        <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"isCollapseding\\\">              \\r\\n          <div class=\\\"d-grid gap-2 mt-1\\\" *ngFor=\\\"let item of ingredientes\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-10\\\">\\r\\n                <button class=\\\"btn btn-sm\\\" [ngStyle]=\\\"{'color': item['color_ingrediente']}\\\" (click)=\\\"item['collapse'] = !item['collapse']\\\" \\r\\n                        [attr.aria-expanded]=\\\"!item['collapse']\\\" aria-controls=\\\"collapseBasic\\\" *ngIf=\\\"item['sinonimo']!=''\\\">{{item['sinonimo']}}\\r\\n                </button>                \\r\\n              </div>\\r\\n              <div class=\\\"col-2\\\">\\r\\n                <div [ngStyle]=\\\"{'background-color': item['color']}\\\" class=\\\"text-center riesgo\\\">!</div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"!item['collapse']\\\"  *ngIf=\\\"item['sinonimo']!=''\\\">                  \\r\\n              <div class=\\\"well well-lg card card-block card-header\\\">\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{'history.matching' | translate}}: {{item['reconocimiento']}}%</small>                                                  \\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{'history.ingredient' | translate}}: {{item['nombre']}}</small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\"><strong>{{'history.report' | translate}}:</strong></small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{item['reporte']}}</small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\"><strong>{{'history.reference' | translate}}:</strong></small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{item['referencia']}}</small>                \\r\\n              </div>                \\r\\n            </app-expandable>                    \\r\\n          </div>      \\r\\n        </app-expandable>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"collapseImg()\\\"\\r\\n                [attr.aria-expanded]=\\\"isCollapsedimg\\\" aria-controls=\\\"collapseBasic\\\">{{'consult.image' | translate}}\\r\\n        </button>                    \\r\\n        <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"isCollapsedimg\\\">\\r\\n          <img class=\\\" div_closebutton\\\" src=\\\"{{ruta}}{{myConsult['image_url']}}\\\" alt=\\\"\\\">\\r\\n        </app-expandable>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"collapseTex()\\\"\\r\\n                [attr.aria-expanded]=\\\"isCollapsedtex\\\" aria-controls=\\\"collapseBasic\\\">{{'consult.textmaching' | translate}}\\r\\n        </button>                    \\r\\n        <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"isCollapsedtex\\\">\\r\\n          <p>{{myConsult['texto']}}</p>\\r\\n        </app-expandable>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"downloadPDF(myConsult['id'])\\\">PDF</button>\\r\\n      </div>          \\r\\n    </div>\\r\\n  </div> \\r\\n   \\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ConsultPage } from './consult.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ConsultPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConsultPageRoutingModule } from './consult-routing.module';\r\n\r\nimport { ConsultPage } from './consult.page';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { TranslateModule, TranslateLoader, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,        \r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    ConsultPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: createTranslateLoader,\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n  declarations: [ConsultPage]\r\n})\r\nexport class ConsultPageModule {}\r\n","export default \".listaHeight {\\n  top: 30%;\\n  height: 90vh;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n\\n.riesgo {\\n  border-radius: 50%;\\n  margin-top: 3%;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjb25zdWx0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFFBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFFQSxjQUFBO0VBQ0EsWUFBQTtBQUFKIiwiZmlsZSI6ImNvbnN1bHQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3RhSGVpZ2h0IHtcclxuICAgIHRvcDogMzAlO1xyXG4gICAgaGVpZ2h0OiA5MHZoO1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxufVxyXG5cclxuLnJpZXNnb3tcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIFxyXG4gICAgbWFyZ2luLXRvcDogMyU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBcclxufSJdfQ== */\";"]}