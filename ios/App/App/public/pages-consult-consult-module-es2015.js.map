{"version":3,"sources":["./src/app/pages/consult/consult.page.ts","./src/app/pages/consult/consult.page.html","./src/app/pages/consult/consult-routing.module.ts","./src/app/pages/consult/consult.module.ts","./src/app/pages/consult/consult.page.scss"],"names":[],"mappings":"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","file":"pages-consult-consult-module-es2015.js","sourcesContent":["import { Component, OnInit, SimpleChanges } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ENDPOINT } from '../../utils/endpoint';\r\nimport { ScanService } from '../../services/scan.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-consult',\r\n  templateUrl: './consult.page.html',\r\n  styleUrls: ['./consult.page.scss'],\r\n})\r\nexport class ConsultPage implements OnInit {\r\n\r\n  isLoading: boolean\r\n  myConsult: any \r\n  isCollapsedimg: boolean\r\n  isCollapseding: boolean\r\n  isCollapsedtex: boolean\r\n  ruta: any\r\n  detalleIngredientes: any []\r\n  ingredientes: any []\r\n\r\n  constructor(private route: Router, public translate: TranslateService, private _scanService: ScanService) { \r\n    this.ruta = `${ENDPOINT}/`;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getConsult()    \r\n\r\n  }\r\n  \r\n  ngAfterViewInit(): void {    \r\n    this.getConsult()    \r\n  }\r\n\r\n  returnHome(){\r\n    localStorage.removeItem(\"consult\");\r\n    this.route.navigate(['consults']);\r\n  }\r\n\r\n  getConsult(){\r\n    \r\n    this.isCollapsedimg = false\r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isLoading = true;   \r\n    this.myConsult = JSON.parse(localStorage['consult'] || '{}')\r\n    this.recargar(this.myConsult)\r\n    \r\n    this.isLoading = false;   \r\n\r\n  }\r\n\r\n  changeExpande(item){\r\n    console.log(item,\"item1\");\r\n    item['collapse'] = !item['collapse']\r\n    console.log(item,\"item2\");\r\n\r\n  }\r\n\r\n  recargar(consulta: any): void {\r\n    console.log(consulta);\r\n    this.ingredientes = consulta['ingredientes']          \r\n  }  \r\n\r\n  downloadPDF(id: any){\r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapsedimg = false\r\n    this._scanService.generatePdfConsultLink(id).subscribe(\r\n      (resp) => {\r\n        window.open(resp['link'])        \r\n      }\r\n    )\r\n  }\r\n\r\n  collapseIng(){    \r\n    this.isCollapsedimg = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapseding = !this.isCollapseding\r\n  }\r\n\r\n  collapseImg(){    \r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapsedimg = !this.isCollapsedimg\r\n  }\r\n\r\n  collapseTex(){    \r\n    this.isCollapseding = false\r\n    this.isCollapsedtex = false\r\n    this.isCollapsedtex = !this.isCollapsedtex\r\n  }\r\n}\r\n","export default \"<ion-content color=\\\"\\\">\\r\\n  <img class=\\\"position-absolute div__background-wavetop\\\" src=\\\"../../../assets/icon/infoWaveTop.png\\\" alt=\\\"\\\">\\r\\n  <div class=\\\"position-absolute container contenedorModalTop\\\">\\r\\n      <div class=\\\"row mt-4\\\">\\r\\n          <div class=\\\"col-2 my-auto text-center\\\">\\r\\n              <img class=\\\" div_closebutton\\\" (click)=\\\"returnHome()\\\" src=\\\"../../../assets/icon/close.png\\\" alt=\\\"\\\">\\r\\n          </div>\\r\\n          <div class=\\\"col-8 bruno-btn-home my-auto text-center text-white bruno-text-info2\\\">\\r\\n              <p class=\\\"my-auto closeSectionText\\\">{{ 'consult.consult' | translate }} </p>              \\r\\n          </div>\\r\\n          <div class=\\\"col-2\\\"></div>\\r\\n      </div>\\r\\n  </div>\\r\\n  <div class=\\\"container centrar-vertical listaHeight mt-4\\\">\\r\\n    <div class=\\\"row mt-5 stepText mt-5\\\" *ngIf=\\\"isLoading\\\">\\r\\n      <ion-spinner name=\\\"lines\\\"></ion-spinner>\\r\\n    </div>      \\r\\n    <div class=\\\"row mt-5 stepText mt-5\\\" *ngIf=\\\"!isLoading\\\">\\r\\n      <div class=\\\"d-grid gap-2 mt-5\\\">\\r\\n        <button class=\\\"btn btn-outline-dark\\\">{{'consult.date' | translate}} {{myConsult['fecha'] | date: 'dd/MM/y HH:mm:ss'}} # {{myConsult['id']}}</button>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"collapseIng()\\\" [attr.aria-expanded]=\\\"isCollapseding\\\" aria-controls=\\\"collapseBasic\\\">{{'result.ingredient' | translate}}</button>\\r\\n        <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"isCollapseding\\\">              \\r\\n          <div class=\\\"d-grid gap-2 mt-1\\\" *ngFor=\\\"let item of ingredientes\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-10\\\">\\r\\n                <button class=\\\"btn btn-sm\\\" [ngStyle]=\\\"{'color': item['color_ingrediente']}\\\" (click)=\\\"item['collapse'] = !item['collapse']\\\" \\r\\n                        [attr.aria-expanded]=\\\"!item['collapse']\\\" aria-controls=\\\"collapseBasic\\\" *ngIf=\\\"item['sinonimo']!=''\\\">{{item['sinonimo']}}\\r\\n                </button>                \\r\\n              </div>\\r\\n              <div class=\\\"col-2\\\">\\r\\n                <div [ngStyle]=\\\"{'background-color': item['color']}\\\" class=\\\"text-center riesgo\\\">!</div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"!item['collapse']\\\"  *ngIf=\\\"item['sinonimo']!=''\\\">                  \\r\\n              <div class=\\\"well well-lg card card-block card-header\\\">\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{'history.matching' | translate}}: {{item['reconocimiento']}}%</small>                                                  \\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{'history.ingredient' | translate}}: {{item['nombre']}}</small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\"><strong>{{'history.report' | translate}}:</strong></small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{item['reporte']}}</small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\"><strong>{{'history.reference' | translate}}:</strong></small>\\r\\n                <small [ngStyle]=\\\"{'color': item['color_reporte']}\\\">{{item['referencia']}}</small>                \\r\\n              </div>                \\r\\n            </app-expandable>                    \\r\\n          </div>      \\r\\n        </app-expandable>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"collapseImg()\\\"\\r\\n                [attr.aria-expanded]=\\\"isCollapsedimg\\\" aria-controls=\\\"collapseBasic\\\">{{'consult.image' | translate}}\\r\\n        </button>                    \\r\\n        <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"isCollapsedimg\\\">\\r\\n          <img class=\\\" div_closebutton\\\" src=\\\"{{ruta}}{{myConsult['image_url']}}\\\" alt=\\\"\\\">\\r\\n        </app-expandable>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"collapseTex()\\\"\\r\\n                [attr.aria-expanded]=\\\"isCollapsedtex\\\" aria-controls=\\\"collapseBasic\\\">{{'consult.textmaching' | translate}}\\r\\n        </button>                    \\r\\n        <app-expandable expandHeight=\\\"100%\\\" [expanded]=\\\"isCollapsedtex\\\">\\r\\n          <p>{{myConsult['texto']}}</p>\\r\\n        </app-expandable>\\r\\n        <button class=\\\"btn btn-outline-dark\\\" (click)=\\\"downloadPDF(myConsult['id'])\\\">PDF</button>\\r\\n      </div>          \\r\\n    </div>\\r\\n  </div> \\r\\n   \\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ConsultPage } from './consult.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsultPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ConsultPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConsultPageRoutingModule } from './consult-routing.module';\r\n\r\nimport { ConsultPage } from './consult.page';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { TranslateModule, TranslateLoader, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,        \r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    ConsultPageRoutingModule,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: createTranslateLoader,\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n  declarations: [ConsultPage]\r\n})\r\nexport class ConsultPageModule {}\r\n","export default \".listaHeight {\\n  top: 30%;\\n  height: 90vh;\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n\\n.riesgo {\\n  border-radius: 50%;\\n  margin-top: 3%;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjb25zdWx0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFFBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFFQSxjQUFBO0VBQ0EsWUFBQTtBQUFKIiwiZmlsZSI6ImNvbnN1bHQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3RhSGVpZ2h0IHtcclxuICAgIHRvcDogMzAlO1xyXG4gICAgaGVpZ2h0OiA5MHZoO1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxufVxyXG5cclxuLnJpZXNnb3tcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIFxyXG4gICAgbWFyZ2luLXRvcDogMyU7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBcclxufSJdfQ== */\";"],"sourceRoot":"webpack:///"}